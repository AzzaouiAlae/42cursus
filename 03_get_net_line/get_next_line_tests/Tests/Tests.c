#include "../Tests.h"

int		fd_tests;

void	Test1(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghi";
	fd_tests = open("files_to_read/file8.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(str), strlen(exp));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test2(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghi\n";
	fd_tests = open("files_to_read/file9.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(str), strlen(exp));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test3(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghi\n";
	exp2 = "klmnopqrs\n";
	fd_tests = open("files_to_read/file10.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(str), strlen(exp));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test4(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghi\n";
	exp2 = "klmnopqrst";
	fd_tests = open("files_to_read/file11.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test5(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghi\n";
	exp2 = "klmnopqrst\n";
	fd_tests = open("files_to_read/file12.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test6(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghij";
	fd_tests = open("files_to_read/file13.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test7(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghij\n";
	fd_tests = open("files_to_read/file14.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test8(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghij\n";
	exp2 = "lmnopqrs\n";
	fd_tests = open("files_to_read/file15.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test9(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghij\n";
	exp2 = "lmnopqrs\n";
	fd_tests = open("files_to_read/file15.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test10(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghij\n";
	exp2 = "lmnopqrst";
	fd_tests = open("files_to_read/file16.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test11(void)
{
	char	*exp;
	char	*exp2;
	char	*str2;

	// arrange
	exp = "abcdefghij\n";
	exp2 = "lmnopqrst\n";
	fd_tests = open("files_to_read/file17.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT32(strlen(exp2), strlen(str2));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp2, str2, strlen(str2) + 1);
	free(str2);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test12(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijk";
	fd_tests = open("files_to_read/file18.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test13(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijk\n";
	fd_tests = open("files_to_read/file19.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test14(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrs";
	fd_tests = open("files_to_read/file20.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test15(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrs\n";
	fd_tests = open("files_to_read/file21.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test16(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrst";
	fd_tests = open("files_to_read/file22.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test17(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrst";
	fd_tests = open("files_to_read/file22.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test18(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrst\n";
	fd_tests = open("files_to_read/file23.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test19(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrstu";
	fd_tests = open("files_to_read/file24.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test20(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "abcdefghijklmnopqrstu\n";
	fd_tests = open("files_to_read/file25.txt", O_APPEND | O_CREAT | O_CREAT);
	// act
	str = get_next_line(fd_tests);
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);
	str2 = get_next_line(fd_tests);
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test21(void)
{
	char	*exp[5];
	char	*temp;

	// arrange
	exp[0] = "aaaaaaaaaa\n";
	exp[1] = "bbbbbbbbbb\n";
	exp[2] = "cccccccccc\n";
	exp[3] = "dddddddddd\n";
	exp[4] = NULL;
	fd_tests = open("files_to_read/read_error.txt",
			O_APPEND | O_CREAT | O_CREAT);
	for (int i = 0, j = 0; i < 5; i++)
	{
		// act
		str = get_next_line(fd_tests);
		// asert
        if(i != 4)
        {
            TEST_ASSERT_EQUAL_INT32(strlen(exp[i]), strlen(str));
		    TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp[i], str, strlen(str) + 1);
		    free(str);
        }
		
		if (i == 2 && !j && BUFFER_SIZE > 100)
		{
			j++;
            i = -1;
			if (BUFFER_SIZE > 100)
			{
				do
				{
					temp = get_next_line(fd_tests);
                    if(temp)
					    free(temp);
				} while (temp != NULL);
			}
			close(fd_tests);
            fd_tests = open("files_to_read/read_error.txt",
			O_APPEND | O_CREAT | O_CREAT);
		}
	}
}

void	Test_big1(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789";
	fd_tests = open("files_to_read/file26.txt", O_APPEND | O_CREAT | O_CREAT);
	
	// act
	str = get_next_line(fd_tests);
	
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);

	// act
	str2 = get_next_line(fd_tests);

	// asert
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Test_big2(void)
{
	char	*exp;
	char	*str2;

	// arrange
	exp = "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789\n";
	fd_tests = open("files_to_read/file27.txt", O_APPEND | O_CREAT | O_CREAT);
	
	// act
	str = get_next_line(fd_tests);
	
	// asert
	TEST_ASSERT_EQUAL_INT32(strlen(exp), strlen(str));
	TEST_ASSERT_CHAR_ARRAY_WITHIN(0, exp, str, strlen(str) + 1);

	// act
	str2 = get_next_line(fd_tests);

	// asert
	TEST_ASSERT_EQUAL_INT64(0, str2);
}

void	Tests(void)
{
	RUN_TEST(Test1);
	RUN_TEST(Test2);
	RUN_TEST(Test3);
	RUN_TEST(Test4);
	RUN_TEST(Test5);
	RUN_TEST(Test6);
	RUN_TEST(Test7);
	RUN_TEST(Test8);
	RUN_TEST(Test9);
	RUN_TEST(Test10);
	RUN_TEST(Test11);
	RUN_TEST(Test12);
	RUN_TEST(Test13);
	RUN_TEST(Test14);
	RUN_TEST(Test15);
	RUN_TEST(Test16);
	RUN_TEST(Test17);
	RUN_TEST(Test18);
	RUN_TEST(Test19);
	RUN_TEST(Test20);
	RUN_TEST(Test21);
	RUN_TEST(Test_big1);
	RUN_TEST(Test_big2);
}